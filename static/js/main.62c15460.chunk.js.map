{"version":3,"sources":["components/Api.js","components/Searchbar.js","components/ImageGalleryItem.js","components/ImageGallery.js","components/Button.js","components/Modal.js","App.js","index.js"],"names":["instance","axios","create","baseURL","search","q","page","get","Searchbar","state","query","handleQChange","target","setState","value","toLowerCase","handleSubmit","event","preventDefault","trim","props","onSubmit","searcText","toast","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","className","this","type","autoComplete","autoFocus","placeholder","name","onChange","Component","ImageGalleryItem","image","onClick","src","webformatURL","alt","tags","ImageGallery","images","map","id","LoadMoreButton","handleLoadMore","disabled","Modal","handleKeyDown","e","code","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","largeImageURL","App","showModal","loading","imageId","then","response","data","hits","scrollTo","top","document","documentElement","scrollHeight","behavior","openModal","closeModal","find","color","height","width","timeout","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.62c15460.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"https://pixabay.com/api\",\r\n});\r\nconst IMAGES_PER_PAGE = 12;\r\nconst PIXABAY_KEY = \"22740436-05bbd607dbbc32bdc3528cde5\";\r\n\r\nexport const search = (q, page) => {\r\n  return instance.get(\r\n    `?q=${q}&page=${page}&key=${PIXABAY_KEY}&image_type=photo&orientation=horizontal&per_page=${IMAGES_PER_PAGE}`\r\n  );\r\n};","import React, { Component } from 'react'\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n\r\n  handleQChange = ({ target }) => {\r\n    this.setState({ query: target.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    if (this.state.query.trim() === \"\") {\r\n      toast.error(\"Введите ключевое слово для поиска\", {\r\n        position: \"top-right\",\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ searcText: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <header className=\"Searchbar\">\r\n          <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n            <button type=\"submit\" className=\"SearchForm-button\">\r\n              <span className=\"SearchForm-button-label\">Search</span>\r\n            </button>\r\n\r\n            <input\r\n              className=\"SearchForm-input\"\r\n              type=\"text\"\r\n              autoComplete=\"on\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n              name=\"searcText\"\r\n              value={this.state.query}\r\n              onChange={this.handleQChange}\r\n            />\r\n          </form>\r\n        </header>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;","import React from 'react'\r\n\r\nconst ImageGalleryItem = ({ image, onClick }) => {\r\n  return (\r\n    <li className=\"ImageGalleryItem\" onClick={onClick}>\r\n      <img\r\n        src={image.webformatURL}\r\n        alt={image.tags}\r\n        className=\"ImageGalleryItem-image\"\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;","import React from 'react'\r\nimport ImageGalleryItem from './ImageGalleryItem'\r\n\r\nconst ImageGallery = ({ images, onClick }) => {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {images.map(image => (\r\n        <ImageGalleryItem image={image} key={image.id} onClick={onClick(image.id)}/>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n    \r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\n\r\nconst LoadMoreButton = ({ handleLoadMore, disabled }) => (\r\n  <button\r\n    type=\"button\"\r\n    className=\"Button\"\r\n    onClick={handleLoadMore}\r\n    disabled={disabled}\r\n  >\r\n    Load more\r\n  </button>\r\n);\r\n\r\nexport default LoadMoreButton;\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (event) => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\r\n        <div className=\"Modal\">\r\n          <img\r\n            src={this.props.image.largeImageURL}\r\n            alt={this.props.image.tags}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { Component } from 'react'\nimport Loader from \"react-loader-spinner\";\nimport { search } from './components/Api';\nimport Searchbar from './components/Searchbar'\nimport ImageGallery from \"./components/ImageGallery\";\nimport LoadMoreButton from \"./components/Button\";\nimport Modal from \"./components/Modal\";\nimport { ToastContainer} from \"react-toastify\";\nimport './App.css';\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    showModal: false,\n    query: \"\",\n    page: 1,\n    loading: false,\n    imageId: null,\n  };\n\n  handleQChange = (query) => {\n    this.setState({\n      loading: true,\n    });\n    search(query, 1).then((response) =>\n      this.setState({\n        images: response.data.hits,\n        page: 2,\n        query,\n        loading: false,\n      })\n    );\n  };\n\n  handleLoadMore = () => {\n    this.setState({\n      loading: true,\n    });\n    search(this.state.query, this.state.page).then((response) => {\n      this.setState({\n        images: [...this.state.images, ...response.data.hits],\n        page: this.state.page + 1,\n        loading: false,\n      });\n\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    });\n  };\n\n  openModal = (imageId) => () => {\n    this.setState({\n      showModal: true,\n      imageId,\n    });\n  };\n\n  closeModal = () => {\n    this.setState({\n      showModal: false,\n      imageId: null,\n    });\n  };\n\n  render() {\n    const { images, showModal, imageId } = this.state;\n    const image = images.find(image => image.id === imageId);\n    return (\n      <div className=\"App\">\n        {showModal && <Modal onClose={this.closeModal} image={image}></Modal>}\n        <header className=\"App-header\">\n          <h1>Image finder</h1>\n        </header>\n        <ToastContainer autoClose={3000} />\n\n        <Searchbar onSubmit={this.handleQChange} />\n        <ImageGallery images={images} onClick={this.openModal} />\n        {this.state.loading === true && (\n          <div className=\"loader\">\n            <Loader\n              type=\"Puff\"\n              color=\"#00BFFF\"\n              height={100}\n              width={100}\n              timeout={3000} //3 secs\n            />\n          </div>\n        )}\n        {this.state.images.length !== 0 && (\n          <LoadMoreButton\n            handleLoadMore={this.handleLoadMore}\n            disabled={this.state.loading}\n          />\n        )}\n      </div>\n    );\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}